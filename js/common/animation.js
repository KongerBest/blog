// build time:Sat Feb 15 2020 18:31:20 GMT+0800 (GMT+08:00)
(function(t){function i(t){var i=t.time,e=t.now,n=t.aims,r=t.spendTime;var o=e+(n-e)*60/(i-r);return n-e>0?o>=n?n:o:o<=n?n:o}function e(){this.record=[];this.timeoutMap={};this.listeners={start:[],frame:[],end:[]};this.frames=0;this._init()}e.prototype={_init:function(){this.index=0;this.nowIndex=0;this.timer=null;this.time=0;this.startTime=null;this.record.forEach(function(t){eachObj(t,function(i,e){if(~e.indexOf("_"))return;t[e].now=t[e].from})});return this},_getSpendTime:function(){var t,i=this.time,e=this.nowIndex;t=this.record.reduce(function(t,i,n){if(n<e){t+=i["_time"]}return t},0);return i-t},_request:function(t){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;this.timer=i(t);return this},_cancel:function(){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame;t(this.timer);return this},_algorithm:function(t){var e=t.type||"linear",n=t.time||1e3,r=t.now,o=t.aims||0,s=t.spendTime||0;switch(e){case"linear":return i({time:n,now:r,aims:o,spendTime:s})}},_emit:function(t,i){this.listeners[t]&&this.listeners[t].forEach(function(t){t(i)});return this},on:function(t,i){if(~getKeys(this.listeners).indexOf(t)&&i){this.listeners[t].push(i)}return this},from:function(t){t=t||{};var i=this.record[this.index]||{};eachObj(t,function(t,e){i[e]={from:t,now:t,to:0}});this.record[this.index]=i;return this},to:function(t){t=t||{};var i=this.record[this.index]||{};eachObj(t,function(t,e){i[e]=extend(i[e]||{from:0,now:0},{to:t})});this.record[this.index]=i;return this},transition:function(t){var i,e;if(typeof t==="string"){e=t}else{i=t.type||"linear";e=t.time||1e3}var n=this.record[this.index]||{};extend(n,{_time:e,_type:i});this.record[this.index]=n;return this},next:function(){this.index=this.record.length;return this},timeout:function(t){if(t&&typeof t==="number"){var i=this.record.length===0?-1:this.index;this.timeoutMap[i]=this.timeoutMap[i]!=null?this.timeoutMap[i]+t:t}return this},start:function(){var t=this.record,i=this;return this.next()._emit("start")._request(function e(){var n=t[i.nowIndex],r={};if(!i.startTime&&i.timeoutMap["-1"]){i.startTime=(new Date).getTime();i.pause();setTimeout(function(){i._request(e)},i.timeoutMap["-1"]);return}if(i.time===n["_time"]){var o=i.timeoutMap[i.nowIndex];i.time=0;i.nowIndex++;if(o){i.pause();setTimeout(function(){i._request(e)},o);return}n=t[i.nowIndex]}if(i.nowIndex===t.length){i._emit("end").close();return}eachObj(n,function(t,e){if(~e.indexOf("_"))return;var o=i._algorithm({type:n["_type"],time:n["_time"],now:t["now"],aims:t["to"],spendTime:i.time});r[e]=o;n[e].now=o;if(o===t["to"]){i.time=n["_time"]}});if(i.time!=n["_time"]){i.time+=60}i._emit("frame",r);i.frames++;i._request(e)})},pause:function(){return this._cancel()},close:function(){return this._cancel()._init()}};t.Amt=e})(window);
//rebuild by neat 