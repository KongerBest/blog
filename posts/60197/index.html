<!-- build time:Sun Jun 07 2020 19:05:04 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/konghuaiqing/img-cdn@master/img/20200602212302.png"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="HandheldFriendly" content="True"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>编写自己的hexo主题（转） | Kongerの万事屋</title><meta name="keywords" content="Konger, Konger,hexo,blog,coding,html,css,js"><meta name="description" content="Konger的小站，不如进来玩玩？"><meta property="og:type" content="article"><meta property="og:title" content="编写自己的hexo主题（转）"><meta property="og:url" content="https://blog.ninglans.top/posts/60197/index.html"><meta property="og:site_name" content="Kongerの万事屋"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://i.sofever.com/dispatch/9e568638d7789c5b888eb673c66a0a1c"><meta property="article:published_time" content="2020-05-28T12:27:35.000Z"><meta property="article:modified_time" content="2020-06-02T11:40:43.637Z"><meta property="article:author" content="Konger"><meta property="article:tag" content="Konger"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://i.sofever.com/dispatch/9e568638d7789c5b888eb673c66a0a1c"><link rel="alternate" href="/atom.xml" title="Kongerの万事屋"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-theme-cards@0.3.4/dist/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-theme-cards@0.3.4/dist/css/github.min.css" crossorigin="anonymous" media="none" onload='this.media="all"'><script src="/js/darkmode.js"></script><script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script><meta name="google-site-verification" content="tB62SXP8DdAcVY0UkAJJdWDcIa6OxAy9D-wNW_duWqw"><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Kongerの万事屋" type="application/atom+xml"></head><body><div id="app"><header class="header"><div class="header__left"><a href="/" class="button"><span class="logo__text">← Kongerの万事屋 | 首页</span></a></div><div class="header__right"><a href="javaScript:void(0);" rel="external nofollow noreferrer" id="btn-toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></a></div></header><main class="main"><div class="post-title"><h1 class="post-title__text">编写自己的hexo主题（转）</h1><div class="post-title__meta"><a href="/archives/2020/05/" class="button" style="color:grey">2020-05-28</a> <span class="separate-dot"></span><a href="/categories/%E8%BD%AC%E8%BD%BD/" class="button">转载</a> <span id="busuanzi_container_page_pv" hidden><span>·</span> <span></span> <span id="busuanzi_value_page_pv"></span> <span>阅读量</span></span></div></div><div class="post__with-side"><aside class="post-side"><div class="post-side__toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#预备知识"><span class="toc-text">预备知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#模板引擎"><span class="toc-text">模板引擎</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CSS-预处理"><span class="toc-text">CSS 预处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hexo-官方文档"><span class="toc-text">Hexo 官方文档</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#主题结构"><span class="toc-text">主题结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#注意事项"><span class="toc-text">注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#页面编写"><span class="toc-text">页面编写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据使用"><span class="toc-text">数据使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#配置文件数据"><span class="toc-text">配置文件数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hexo-预置数据"><span class="toc-text">Hexo 预置数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#例子"><span class="toc-text">例子</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#辅助函数"><span class="toc-text">辅助函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#条件函数"><span class="toc-text">条件函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#日期"><span class="toc-text">日期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#列表"><span class="toc-text">列表</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他页面"><span class="toc-text">其他页面</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#样式文件"><span class="toc-text">样式文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结语"><span class="toc-text">结语</span></a></li></ol></div></aside><article class="post content-card"><div class="post__header"><img alt="Cover Image" src="https://i.sofever.com/dispatch/9e568638d7789c5b888eb673c66a0a1c" class="lazyload" data-srcset="https://i.sofever.com/dispatch/9e568638d7789c5b888eb673c66a0a1c" srcset="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEXMzMyWlpYU2uzLAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAACklEQVQImWNgAAAAAgAB9HFkpgAAAABJRU5ErkJggg=="><div class="post__expire" id="post-expired-notify"><p>本文最后更新于 <span id="expire-date"></span> 天前，文中部分描述可能已经过时。</p></div><script>(() => {
            var update = Date.parse("2020-06-02"),
                date = new Date(),
                now = date.getTime(),
                expire = now - update,
                expire_days = Math.floor(expire/(24*3600*1000));
            if (expire_days >= 30) {
                document.querySelectorAll('#expire-date')[0].innerHTML = expire_days;
                document.querySelectorAll('#post-expired-notify')[0].style.display = 'block';
            }
        })();</script></div><div class="post__content"><div class="markdown-body"><a id="more"></a><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>开始使用 Hexo 时，使用的都是其他大佬做好的主题，时间久了就产生了不如意的地方，要么是功能太过繁杂自己用不到，要么就是自己想要的东西主题上没有，于是乎，我有了一个自己写主题的想法，便开始接触学习前端，到现在，我的 Hexo 博客网站，用的都是自己写的主题。<a href="https://staunchkai.com/" target="_blank" rel="noopener external nofollow noreferrer">https://staunchkai.com</a></p><blockquote><p>在我制作主题的过程中，参考了很多大佬写的主题，例如：<a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener external nofollow noreferrer">NexT</a>、<a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener external nofollow noreferrer">yilia</a>、<a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener external nofollow noreferrer">icarus</a> 等等，在这里表示感谢。</p></blockquote><p>在正式开始编写自己的主题之前，希望你多少具备点以下知识：</p><ul><li>前端知识：包含 HTML、CSS、JavaScript（这是一切的前提，不用多熟练，可以一边写一边练）</li><li>一点基础的编程语法（至少知道什么是 <code>for</code> 、 <code>if</code> ）</li><li>会查看资料，包含但不限于官方文档、第三方文档</li><li>出现问题会主动去寻找解决方法，推荐 Google</li><li>模板引擎和预处理（这两个我是一边写一边学的）</li></ul><p>提醒</p><p>编写本文我不想重复造太多轮子，大多属于小坑提醒之类的。</p><h2 id="预备知识"><a href="#预备知识" class="headerlink" title="#预备知识"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#预备知识" target="_blank" rel="noopener external nofollow noreferrer">#</a>预备知识</h2><h3 id="模板引擎"><a href="#模板引擎" class="headerlink" title="#模板引擎"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#模板引擎" target="_blank" rel="noopener external nofollow noreferrer">#</a>模板引擎</h3><p>Hexo 支持主流的模板引擎，如： <code>EJS</code> 、 <code>Jade</code> 、 <code>Swing</code> 等，<strong>本文我使用的是 EJS</strong>，可查看 <a href="https://ejs.bootcss.com/" target="_blank" rel="noopener external nofollow noreferrer">文档</a>。</p><p>Hexo 的页面都是通过模板引擎渲染出来的页面，它可以实现一些代码的复用，若是采用一般的 HTML，则会造成很大的工作量，非常不方便，因此需要事先了解和学习一下。</p><h3 id="CSS-预处理"><a href="#CSS-预处理" class="headerlink" title="#CSS 预处理"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#css-预处理" target="_blank" rel="noopener external nofollow noreferrer">#</a>CSS 预处理</h3><p>与模板引擎一样，CSS 预处理能够更方便地写 CSS 样式，Hexo 中也支持大量的预处理，如： <code>sass</code> 、 <code>Stylus</code> 、 <code>Less</code> 等，<strong>本文我是用的是 Stylus</strong>，可查看 <a href="http://stylus-lang.com/" target="_blank" rel="noopener external nofollow noreferrer">文档</a>。</p><h3 id="Hexo-官方文档"><a href="#Hexo-官方文档" class="headerlink" title="#Hexo 官方文档"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#hexo-官方文档" target="_blank" rel="noopener external nofollow noreferrer">#</a>Hexo 官方文档</h3><p>可到 <a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener external nofollow noreferrer">Hexo</a> 查看其文档，里面有很多用模板引擎用得到的变量以及辅助函数。</p><h2 id="主题结构"><a href="#主题结构" class="headerlink" title="#主题结构"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#主题结构" target="_blank" rel="noopener external nofollow noreferrer">#</a>主题结构</h2><p>Hexo 主题结构通常如下所示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">theme folder</span><br><span class="line">├── languages	&#x2F;&#x2F; 多语言文件夹</span><br><span class="line">├── layout		&#x2F;&#x2F; 页面文件</span><br><span class="line">├── source		&#x2F;&#x2F; 资源文件</span><br><span class="line">└── _config.yml	&#x2F;&#x2F; 主题配置文件</span><br></pre></td></tr></table></figure><p><code>languages</code> 文件夹放有一个或多个语言文件。</p><p><code>layout</code> 文件夹下面用于存放页面文件，通常第一层有 <code>Index 首页</code> 、 <code>Archive 归档页</code> 、 <code>Tag 标签页</code> 、 <code>Category 分类页</code> 、 <code>Post 文章页</code> 、 <code>Page 页面详情页</code> 、 <code>layout 布局</code> ，一般还会创建一个公共页面的文件夹，该文件夹用于放置一个页面的部分内容，用于复用。</p><p><code>source</code> 文件夹用于放一些资源文件，例如： <code>字体</code> 、 <code>CSS</code> 、 <code>JS</code> 、 <code>图片</code> 等，也会根据他们的文件类型进行再次分类，图片放到图片的文件夹，JS 放到 JS 的文件夹。</p><p>以上内容可以手动自建，也可以使用 <a href="https://github.com/tcrowe/generator-hexo-theme" target="_blank" rel="noopener external nofollow noreferrer">generator-hexo-theme</a> 来生成主题结构。</p><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="#注意事项"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#注意事项" target="_blank" rel="noopener external nofollow noreferrer">#</a>注意事项</h2><p>我们在编写主题的时候，都是一边写一边就要看到效果，所以需要使用 <code>hexo s</code> 命令在本地运行，更改文件刷新页面就能看到效果，嫌弃麻烦的可使用 <a href="https://github.com/hexojs/hexo-browsersync" target="_blank" rel="noopener external nofollow noreferrer">hexo-browsersync</a> 插件，当修改主题文件保存后，浏览器将自动进行刷新。</p><p>在使用 <code>hexo s</code> 之前要先 <code>hexo g</code> ，<strong>修改主题配置文件时，不需要重新构建文件，修改根目录配置文件时，需要重新构建（ <code>hexo g</code> ）</strong>。</p><h2 id="页面编写"><a href="#页面编写" class="headerlink" title="#页面编写"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#页面编写" target="_blank" rel="noopener external nofollow noreferrer">#</a>页面编写</h2><blockquote><p>编写推荐使用 <a href="https://code.visualstudio.com/" target="_blank" rel="noopener external nofollow noreferrer">VS Code</a> 编辑器并安装 ejs、Stylus 插件。</p></blockquote><p>先从 <code>layout.ejs</code> 文件开始，该文件是布局文件，其他页面都按照其来进行渲染，编写时遵循 <a href="https://www.runoob.com/html/html5-syntax.html" target="_blank" rel="noopener external nofollow noreferrer">HTML5 规范</a>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;&lt;%&#x3D; config.language %&gt;&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;%- partial(&#39;common&#x2F;head&#39;) %&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%- partial(&#39;common&#x2F;header&#39;) %&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;wrapper&quot;&gt;</span><br><span class="line">        &lt;%- body %&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;%- partial(&#39;common&#x2F;footer&#39;) %&gt;</span><br><span class="line">&lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure><p>参考 <a href="https://hexo.io/zh-cn/docs/templates" target="_blank" rel="noopener external nofollow noreferrer">官方文档 - 模板</a>。</p><ul><li><code>config.language</code> 表示使用根目录配置文件中 <code>language</code> 属性，假设配置文件中该属性填的是 <code>zh-CN</code> ，则最终渲染成 `` 。</li><li><code>partial()</code> 用于引入公共布局，当引用后，每个页面都会存在你引用的这个布局，上面一共引用了三个文件 <code>head</code> 、 <code>header</code> 、 <code>footer</code> ，三个文件都在 <code>common</code> 文件夹下，这时候应该建立该文件夹，并在下面创建对应的三个 ejs 文件。假设 <code>head.ejs</code> 中的内容为 <code>this is head</code> ，最终渲染成如下：（每个页面都会存在此内容）</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    this is head</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><code>&lt;%- body %&gt;</code> 表示其他页面内容，例如： <code>index.ejs</code> 、 <code>archive.ejs</code> 等，假设 <code>index.ejs</code> 内容为 <code>this is index</code> ，则最终渲染成如下：（因为是写在首页文件中，所以只有首页会存在该内容）</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">    this is index</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>现在我们把其他文件也假设写出来。</p><table><thead><tr><th align="center">文件</th><th align="center">内容</th></tr></thead><tbody><tr><td align="center">index.ejs</td><td align="center">index</td></tr><tr><td align="center">head.ejs</td><td align="center">head</td></tr><tr><td align="center">header.ejs</td><td align="center">header</td></tr><tr><td align="center">footer.ejs</td><td align="center">footer</td></tr></tbody></table><p>最终渲染成的 index 为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    head</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    header</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">        index</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    footer</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>其他页面都是一样的用法，都是在生成在 <code>&lt;%- body %&gt;</code> 里面</p></blockquote><h2 id="数据使用"><a href="#数据使用" class="headerlink" title="#数据使用"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#数据使用" target="_blank" rel="noopener external nofollow noreferrer">#</a>数据使用</h2><p>Hexo 中存在着三种变量数据：</p><ul><li><strong>根目录配置文件</strong>：上面提到，该文件内的属性采用 <code>config.XXX</code> 来使用，更改此处属性要重新构建才能生效</li><li><strong>主题配置文件</strong>：和根目录配置文件使用方法一样，不过需要使用 <code>theme.XXX</code> 来调用，更改后无需重新构建</li><li><strong>Hexo 预置</strong>：可查看 <a href="https://hexo.io/zh-cn/docs/variables" target="_blank" rel="noopener external nofollow noreferrer">官方文档</a>。</li></ul><h3 id="配置文件数据"><a href="#配置文件数据" class="headerlink" title="#配置文件数据"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#配置文件数据" target="_blank" rel="noopener external nofollow noreferrer">#</a>配置文件数据</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根目录配置文件</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">STAUNCHKAI</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">this</span> <span class="string">is</span> <span class="string">a</span> <span class="string">subtitle</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 主题配置文件</span></span><br><span class="line"><span class="attr">avatar:</span> <span class="string">/images/avatar.png</span></span><br><span class="line"><span class="string">a</span></span><br><span class="line">  <span class="attr">b:</span> <span class="string">https://staunchkai.com</span></span><br></pre></td></tr></table></figure><p>分类页面 <code>category.ejs</code> 中内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;category-page&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&lt;%&#x3D; config.title %&gt;&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;p&gt;&lt;%&#x3D; config.subtitle %&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;cateogry-page-other&quot;&gt;</span><br><span class="line">    &lt;img src&#x3D;&quot;&lt;%&#x3D; theme.avatar %&gt;&quot;&gt;</span><br><span class="line">    &lt;p&gt;&lt;%&#x3D; theme.a.b %&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>最终渲染结果为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    head</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    header</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"category-page"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>STAUNCHKAI<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>this is a subtitle<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cateogry-page-other"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/images/avatar.png"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>https://staunchkai.com<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    footer</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Hexo-预置数据"><a href="#Hexo-预置数据" class="headerlink" title="#Hexo 预置数据"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#hexo-预置数据" target="_blank" rel="noopener external nofollow noreferrer">#</a>Hexo 预置数据</h3><p><code>post.ejs</code> 文件内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;post&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&lt;%&#x3D; page.title %&gt;&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;p&gt;&lt;%&#x3D; page.tip %&gt;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;post-content&quot;&gt;</span><br><span class="line">        &lt;%- page.content %&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>一篇 <code>md</code> 文章内容如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 这是一篇文章</span><br><span class="line">tip: hexo 开发</span><br><span class="line">---</span><br><span class="line">主内容...</span><br></pre></td></tr></table></figure><p>文章页面最终渲染成：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    head</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    header</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一篇文章<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>hexo 开发<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-content"</span>&gt;</span></span><br><span class="line">                主内容...</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    footer</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="例子"><a href="#例子" class="headerlink" title="#例子"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#例子" target="_blank" rel="noopener external nofollow noreferrer">#</a>例子</h3><p>举个复杂一丢丢的例子，主题配置文件如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">Github:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">https://github.com/staunchkai</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">icon-github</span></span><br><span class="line">  <span class="attr">Email:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">mailto:staunchkai@outlook.com</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">icon-email</span></span><br><span class="line">  <span class="attr">Rss:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">/atom.xml</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">icon-rss</span></span><br></pre></td></tr></table></figure><p>要把 social 属性全部读取出来，如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;social&quot;&gt;</span><br><span class="line">    &lt;% for (let i in theme.social) &#123; %&gt;</span><br><span class="line">    	&lt;% let social &#x3D; theme.socail[i]; %&gt;</span><br><span class="line">    	&lt;a href&#x3D;&quot;&lt;%- url_for(social.url) %&gt;&quot; class&#x3D;&quot;&lt;%&#x3D; social.icon %&gt;&quot;&gt;&lt;%&#x3D; i %&gt;&lt;&#x2F;a&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>最终结果：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"social"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://github.com/staunchkai"</span> <span class="attr">class</span>=<span class="string">"icon-github"</span>&gt;</span>Github<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:staunchkai@outlook.com"</span> <span class="attr">class</span>=<span class="string">"icon-email"</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/atom.xml"</span> <span class="attr">class</span>=<span class="string">"icon-rss"</span>&gt;</span>Rss<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>提醒</p><p>按照上面的，导航栏菜单也是同样的方法。</p><h2 id="辅助函数"><a href="#辅助函数" class="headerlink" title="#辅助函数"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#辅助函数" target="_blank" rel="noopener external nofollow noreferrer">#</a>辅助函数</h2><p>辅助函数参考 <a href="https://hexo.io/zh-cn/docs/helpers" target="_blank" rel="noopener external nofollow noreferrer">官方文档</a>，官方文档最近几版更新的都比较详细，有具体的例子。在这里我挑几个来举例子。</p><h3 id="条件函数"><a href="#条件函数" class="headerlink" title="#条件函数"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#条件函数" target="_blank" rel="noopener external nofollow noreferrer">#</a>条件函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (is_home()) &#123; %&gt;	&#x2F;&#x2F; 如果是首页</span><br><span class="line">	&lt;%- partial(&#39;common&#x2F;header&#39;) %&gt;	&#x2F;&#x2F; 引入 header 文件</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"></span><br><span class="line">&lt;% if (!is_archive()) &#123; %&gt;	&#x2F;&#x2F; 如果不是归档页</span><br><span class="line">	&lt;%- partial(&#39;common&#x2F;footer&#39;) %&gt;	&#x2F;&#x2F; 引入 footer 文件</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h3 id="日期"><a href="#日期" class="headerlink" title="#日期"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#日期" target="_blank" rel="noopener external nofollow noreferrer">#</a>日期</h3><p>官方文档中有多个日期函数，但是我觉得使用下面这一个就足够了。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">官方文档</span><br><span class="line">&lt;%- date(date, [format]) %&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 示例：</span><br><span class="line">&lt;%- date(Date.now()) %&gt;</span><br><span class="line">&#x2F;&#x2F; 2013-01-01</span><br><span class="line"></span><br><span class="line">&lt;%- date(Date.now(), &#39;YYYY&#x2F;M&#x2F;D&#39;) %&gt;</span><br><span class="line">&#x2F;&#x2F; Jan 1 2013</span><br><span class="line"></span><br><span class="line">页面中的日期</span><br><span class="line">&lt;%- date(page.date, &#39;YYYY&#x2F;M&#x2F;D&#39;) %&gt;	&#x2F;&#x2F; 这样就能按照格式获取到页面中的日期</span><br></pre></td></tr></table></figure><h3 id="列表"><a href="#列表" class="headerlink" title="#列表"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#列表" target="_blank" rel="noopener external nofollow noreferrer">#</a>列表</h3><p>官方文档中有 <code>list_categories</code> 、 <code>list_posts</code> 等函数，都有具体的使用方法，在这里对于列表我写出我常用的方法。</p><p><strong>文章列表：</strong></p><p>对于文章通常有两种，一种是每页只显示 <code>config.per_page</code> 数量的文章，带有分页，另外一种是一个页面显示所有文章。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 带分页，使用 Hexo 预置变量 page.posts</span><br><span class="line">&lt;% page.posts.each(function(post) &#123; %&gt;	&#x2F;&#x2F; 因为这里有个对象 post</span><br><span class="line">	&lt;h1&gt;&lt;% post.title %&gt;&lt;&#x2F;h1&gt;	&#x2F;&#x2F; 所以这里才可以用 post.title</span><br><span class="line">	&lt;%- partial(&#39;common&#x2F;post-card&#39;) %&gt;	&#x2F;&#x2F; 这时引用一个文件</span><br><span class="line">&lt;% &#125;); %&gt;</span><br><span class="line"></span><br><span class="line">post-card 文件内容为：</span><br><span class="line">&lt;div class&#x3D;&quot;post-card&quot;&gt;</span><br><span class="line">    &lt;%&#x3D; post.title %&gt;	&#x2F;&#x2F; 这里是会报错的，无法通过</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">需要修改引用为：</span><br><span class="line">&lt;%- partial(&#39;common&#x2F;post-card&#39;, &#123;post: post&#125;) %&gt;	&#x2F;&#x2F; 把 post 传过去才可使用</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 若没有传过去，只能使用 page.title，因为 Hexo 中没有预置 post 这个东东，具体可查看文档</span><br><span class="line">&#x2F;&#x2F; 一个页面显示所有文章</span><br><span class="line">&lt;% site.posts.each(function(post) &#123; %&gt;</span><br><span class="line">	&lt;h1&gt;&lt;% post.title %&gt;&lt;&#x2F;h1&gt;</span><br><span class="line">	&lt;%- partial(&#39;common&#x2F;post-card&#39;, &#123;post: post&#125;) %&gt;</span><br><span class="line">&lt;% &#125;); %&gt;</span><br></pre></td></tr></table></figure><p>提醒</p><p>上面两个，分别使用了官方文档中的两个变量 <code>site.posts</code> 和 <code>page.posts</code> ，请注意官方文档的重要性。</p><p><strong>分类列表：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 文章分类显示</span><br><span class="line">&lt;% page.categories.each(function(category) &#123; %&gt;		&#x2F;&#x2F; 这里就没用 post.categories 了，除非是包含在上面的文章列表循环里面才可以用</span><br><span class="line">	&lt;a href&#x3D;&quot;&lt;%- url_for(category.path) %&gt;&quot;&gt;&lt;%&#x3D; category.name %&gt;&lt;&#x2F;a&gt;</span><br><span class="line">&lt;% &#125;); %&gt;</span><br></pre></td></tr></table></figure><p><strong>标签列表：</strong> 根据分类列表估计能把标签列表给弄出来了</p><h2 id="其他页面"><a href="#其他页面" class="headerlink" title="#其他页面"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#其他页面" target="_blank" rel="noopener external nofollow noreferrer">#</a>其他页面</h2><p>主题中原有的 <code>category.ejs</code> 和 <code>tag.ejs</code> 文件都是属于单个对象的页面，啥意思呢？ 假设一篇文章 <code>Front-matter</code> 如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">categories:</span><br><span class="line"><span class="bullet">	- </span>分类1</span><br><span class="line"><span class="bullet">	- </span>分类2</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">	- </span>tag1</span><br><span class="line"><span class="bullet">	- </span>tag2</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p><code>category.ejs</code> 页面只显示单个分类，当你点击分类 1 跳转过去的页面就是 <code>category</code> ，它不会显示出网站中所有的分类。</p><p>根据上面的可以看出，目前网站存在两个分类，想要全部显示出来，需要自行创建一个页面，这也就是在我们使用其他主题的时候，为啥什么 <code>categories</code> 、 <code>tags</code> 需要在根目录 <code>source</code> 文件夹下面创一个对应的文件夹，再创建一个 <code>index.md</code> 的原因所在，Hexo 里面没有预置这个东西。</p><p><code>tag.ejs</code> 也同理。</p><p>还记得主题文件夹下面的 <code>page.ejs</code> 文件吗？他的作用就是用来创建其他文件的，只要把对应的内容写到这个文件里面就可以了。那我们除了分类、标签页面，还有友情链接、关于页面等等，难道全部写到一个文件里面吗？</p><p>显然这种做法是可行的，但是会导致文件内容复杂，将来不好维护，通常都会重新新建对应的一个页面文件，然后再到 <code>page.ejs</code> 里面引用即可。</p><p>下面做一个 <code>关于</code> 页面的例子：</p><ol><li><strong>首先在根目录资源文件夹创建一个名为 <code>about</code> 的文件夹，再到该文件夹下创建一个 <code>index.md</code> 文件，内容为：</strong></li></ol><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 关于</span><br><span class="line">type: 'about'</span><br><span class="line">---</span><br><span class="line">这是一个关于页面内容</span><br></pre></td></tr></table></figure><ol><li><strong>到主题文件夹中布局文件夹中创建一个 <code>about.ejs</code> 页面，内容为：</strong></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;about-page&quot;&gt;</span><br><span class="line">    &lt;h1&gt;&lt;%&#x3D; page.title %&gt;&lt;&#x2F;h1&gt;</span><br><span class="line">    &lt;p&gt;&lt;%- page.content %&gt;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><ol><li><strong>在 <code>page.ejs</code> 中引入 <code>about.ejs</code></strong></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (is_page() &amp;&amp; page.type &#x3D;&#x3D;&#x3D; &#39;about&#39;) &#123; %&gt;	&#x2F;&#x2F; 该文件是其他页面的集合，所以得判断啥情况引入啥文件</span><br><span class="line">	&lt;%- partial(&#39;about&#39;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 假设引入友情链接文件</span><br><span class="line">&lt;% if (is_page() &amp;&amp; page.type &#x3D;&#x3D;&#x3D; &#39;links&#39;) &#123; %&gt;	&#x2F;&#x2F; is_page() 是啥请看官方文档 - 辅助函数</span><br><span class="line">	&lt;%- partial(&#39;links&#39;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><ol><li><strong>最终渲染结果</strong></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    head</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    header</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"about-page"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>关于<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个关于页面内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    footer</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>categories.ejs</code> 和 <code>tags.ejs</code> 页面是不是就可以使用 <code>site.categories.each...</code> 和 <code>site.tags.each...</code> 用同样的方式给弄出来了。</p><h2 id="样式文件"><a href="#样式文件" class="headerlink" title="#样式文件"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#样式文件" target="_blank" rel="noopener external nofollow noreferrer">#</a>样式文件</h2><p>如何在样式代码文件中引用主题文件的参数呢？假设主题配置文件中如下：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">color:</span> <span class="string">'#c5cae9'</span></span><br></pre></td></tr></table></figure><p>在 ejs 页面中完全可以使用 <code>theme.color</code> 来获取到该属性。</p><p>在 Stylus 文件中使用如下：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$main</span>-<span class="attribute">color</span> = hexo-config(<span class="string">'color'</span>)</span><br><span class="line"><span class="comment">// 或</span></span><br><span class="line">mainColor = unquote(hexo-config(<span class="string">"color"</span>))</span><br></pre></td></tr></table></figure><h2 id="结语"><a href="#结语" class="headerlink" title="#结语"></a><a href="https://easyhexo.com/4-High-order-hexo-gamer/4-2-theme-develop/#结语" target="_blank" rel="noopener external nofollow noreferrer">#</a>结语</h2><p>目前就想到这些了，纯小白肯定是没法看懂的，本文大多属于小坑小提醒类型，最好具备文首所述的那些知识再来折腾比较好。</p><blockquote><p>本篇文章转于<a href="https://staunchkai.com/hexo_develop.html" target="_blank" rel="noopener external nofollow noreferrer">https://staunchkai.com/hexo_develop.html</a></p></blockquote></div></div><div class="post__license"><p><strong>本文作者：</strong>Konger</p><p><strong>本文链接： </strong><a href="https://blog.ninglans.top/posts/60197/">https://blog.ninglans.top/posts/60197/</a></p></div><div class="post-meta post-footer__meta"><p>最后更新于：2020-06-02</p></div><div class="post-cats post-card__cats"><a href="/categories/%E8%BD%AC%E8%BD%BD/" class="post-cats__link button">转载</a></div><div class="post-tags post-card__tags"><a href="/tags/%E4%B9%A6%E5%8D%95/" class="post-tags__link button"># 书单</a></div></article><br><div class="post__comment content-card"><h4 style="margin-top:0">评论</h4><div id="valine_container" class="valine_thread"></div></div></div><br><div class="cover"><div class="cover__menus"><a href="/" class="cover-menu button">首页 </a><span class="separate-dot"></span> <a href="/archives/" class="cover-menu button">归档 </a><span class="separate-dot"></span> <a href="/categories/" class="cover-menu button">分类 </a><span class="separate-dot"></span> <a href="/tags/" class="cover-menu button">标签 </a><span class="separate-dot"></span> <a href="/links/" class="cover-menu button">友链 </a><span class="separate-dot"></span> <a href="/about/" class="cover-menu button">关于 </a><span class="separate-dot"></span> <a href="/atom.xml" class="cover-menu button">Rss</a></div></div></main><footer class="footer"><p>Copyright © 2020 <a href="https://blog.ninglans.top">Konger</a> | <a href="https://icp.gov.moe" target="_blank" rel="noopener external nofollow noreferrer">萌ICP备 </a><a href="https://icp.gov.moe/?keyword=20200112" target="_blank" rel="noopener external nofollow noreferrer">20200112号</a></p><p>Powered by <a href="https://hexo.io" rel="external nofollow noreferrer" target="_blank">Hexo</a> | Theme - <a href="https://github.com/ChrAlpha/hexo-theme-cards" rel="external nofollow noreferrer" target="_blank">Cards</a></p></footer></div><script defer crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@12.0.0/dist/lazyload.min.js"></script><script>window.lazyLoadOptions={elements_selector:".lazyload",threshold:0}</script><script src="https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js"></script><script>var valine_meta = ['nick', 'mail', 'link'],
                guest_info = 'nick,mail,link'.split(',').filter((item) => {
                    return valine_meta.indexOf(item) > -1
                }),
                guest_required = 'nick,mail'.split(',').filter((item) => {
                    return valine_meta.indexOf(item) > -1
                });
            
            new Valine({
                el: '#valine_container',
                appId: "sEh8sNfbNrJdgH6WGzQDmRQ2-gzGzoHsz",
                appKey: "BG0ccp1LTYTuLV0AkFb65xTY",
                placeholder: "昵称填写qq号可自动添加qq头像和昵称，输入邮箱可接受回复，剪贴板图片Ctrl+v可直接快捷上传图床，快来评论（吐槽）吧 ~",
                meta: guest_info,
                requiredFields: guest_required,
                path: "posts/60197/",
                pageSize: 8,
                avatar: "mp",
                lang: "zh-CN",
                highlight: true,
                recordIP: true,
                enableQQ: true,
                
                
                    emojiCDN: "https://cdn.jsdelivr.net/gh/blogimg/",
                    emojiMaps: {"bilibili_face_疑问":"emotion/bilibili/face_疑问.png","bilibili_face_再见":"emotion/bilibili/face_再见.png","bilibili_face_拥抱":"emotion/bilibili/face_拥抱.png","bilibili_face_武汉加油":"emotion/bilibili/face_武汉加油.png","bilibili_face_无奈":"emotion/bilibili/face_无奈.png","bilibili_face_微微笑":"emotion/bilibili/face_微微笑.png","bilibili_face_思考":"emotion/bilibili/face_思考.png","bilibili_face_期待":"emotion/bilibili/face_期待.png","bilibili_face_撇嘴":"emotion/bilibili/face_撇嘴.png","bilibili_face_难过":"emotion/bilibili/face_难过.png","bilibili_face_脸红":"emotion/bilibili/face_脸红.png","bilibili_face_酷":"emotion/bilibili/face_酷.png","bilibili_face_口罩":"emotion/bilibili/face_口罩.png","bilibili_face_可乐":"emotion/bilibili/face_可乐.png","bilibili_face_开心":"emotion/bilibili/face_开心.png","bilibili_face_惊呆了":"emotion/bilibili/face_惊呆了.png","bilibili_face_鸡腿":"emotion/bilibili/face_鸡腿.png","bilibili_face_肌肉":"emotion/bilibili/face_肌肉.png","bilibili_face_寒冷":"emotion/bilibili/face_寒冷.png","bilibili_face_哈欠":"emotion/bilibili/face_哈欠.png","bilibili_face_跪":"emotion/bilibili/face_跪.png","bilibili_face_奋斗":"emotion/bilibili/face_奋斗.png","bilibili_face_弹弹堂":"emotion/bilibili/face_弹弹堂.png","bilibili_face_大闹":"emotion/bilibili/face_大闹.png","bilibili_face_呲牙":"emotion/bilibili/face_呲牙.png","bilibili_face_抱拳":"emotion/bilibili/face_抱拳.png","bilibili_face_拜托":"emotion/bilibili/face_拜托.png","bilibili_face_白眼":"emotion/bilibili/face_白眼.png","bilibili_face_yes":"emotion/bilibili/face_yes.png","bilibili_face_ok":"emotion/bilibili/face_ok.png","bilibili_face_支持":"emotion/bilibili/face_支持.png","bilibili_face_阴险":"emotion/bilibili/face_阴险.png","bilibili_face_嘘声":"emotion/bilibili/face_嘘声.png","bilibili_face_笑哭":"emotion/bilibili/face_笑哭.png","bilibili_face_响指":"emotion/bilibili/face_响指.png","bilibili_face_嫌弃":"emotion/bilibili/face_嫌弃.png","bilibili_face_吓":"emotion/bilibili/face_吓.png","bilibili_face_喜极而泣":"emotion/bilibili/face_喜极而泣.png","bilibili_face_喜欢":"emotion/bilibili/face_喜欢.png","bilibili_face_捂脸":"emotion/bilibili/face_捂脸.png","bilibili_face_无语":"emotion/bilibili/face_无语.png","bilibili_face_委屈":"emotion/bilibili/face_委屈.png","bilibili_face_微笑":"emotion/bilibili/face_微笑.png","bilibili_face_吐":"emotion/bilibili/face_吐.png","bilibili_face_偷笑":"emotion/bilibili/face_偷笑.png","bilibili_face_调皮":"emotion/bilibili/face_调皮.png","bilibili_face_疼":"emotion/bilibili/face_疼.png","bilibili_face_酸了":"emotion/bilibili/face_酸了.png","bilibili_face_生气":"emotion/bilibili/face_生气.png","bilibili_face_生病":"emotion/bilibili/face_生病.png","bilibili_face_妙啊":"emotion/bilibili/face_妙啊.png","bilibili_face_灵魂出窍":"emotion/bilibili/face_灵魂出窍.png","bilibili_face_冷":"emotion/bilibili/face_冷.png","bilibili_face_抠鼻":"emotion/bilibili/face_抠鼻.png","bilibili_face_囧":"emotion/bilibili/face_囧.png","bilibili_face_惊讶":"emotion/bilibili/face_惊讶.png","bilibili_face_惊喜":"emotion/bilibili/face_惊喜.png","bilibili_face_锦鲤":"emotion/bilibili/face_锦鲤.png","bilibili_face_奸笑":"emotion/bilibili/face_奸笑.png","bilibili_face_画风突变":"emotion/bilibili/face_画风突变.png","bilibili_face_滑稽":"emotion/bilibili/face_滑稽.png","bilibili_face_黑洞":"emotion/bilibili/face_黑洞.png","bilibili_face_害羞":"emotion/bilibili/face_害羞.png","bilibili_face_尴尬":"emotion/bilibili/face_尴尬.png","bilibili_face_福到了":"emotion/bilibili/face_福到了.png","bilibili_face_福":"emotion/bilibili/face_福.png","bilibili_face_点赞":"emotion/bilibili/face_点赞.png","bilibili_face_呆":"emotion/bilibili/face_呆.png","bilibili_face_大笑":"emotion/bilibili/face_大笑.png","bilibili_face_大哭":"emotion/bilibili/face_大哭.png","bilibili_face_打call":"emotion/bilibili/face_打call.png","bilibili_face_吃瓜":"emotion/bilibili/face_吃瓜.png","bilibili_face_傲娇":"emotion/bilibili/face_傲娇.png","bilibili_face_爱心":"emotion/bilibili/face_爱心.png","bilibili_face_doge":"emotion/bilibili/face_doge.png","bilibili_face_2020":"emotion/bilibili/face_2020.png","bilibili_热词系列_知识增加":"emotion/bilibili/热词系列_知识增加.png","bilibili_热词系列_张三":"emotion/bilibili/热词系列_张三.png","bilibili_热词系列_有内味了":"emotion/bilibili/热词系列_有内味了.jpg","bilibili_热词系列_我裂开了":"emotion/bilibili/热词系列_我裂开了.png","bilibili_热词系列_我哭了":"emotion/bilibili/热词系列_我哭了.jpg","bilibili_热词系列_问号":"emotion/bilibili/热词系列_问号.png","bilibili_热词系列_危":"emotion/bilibili/热词系列_危.jpg","bilibili_热词系列_你细品":"emotion/bilibili/热词系列_你细品.jpg","bilibili_热词系列_猛男必看":"emotion/bilibili/热词系列_猛男必看.jpg","bilibili_热词系列_害":"emotion/bilibili/热词系列_害.jpg","bilibili_热词系列_咕咕":"emotion/bilibili/热词系列_咕咕.jpg","bilibili_热词系列_递话筒":"emotion/bilibili/热词系列_递话筒.png","bilibili_热词系列_标准结局":"emotion/bilibili/热词系列_标准结局.png","bilibili_热词系列_爱了爱了":"emotion/bilibili/热词系列_爱了爱了.png","bilibili_热词系列_知识盲区":"emotion/bilibili/热词系列_知识盲区.png","bilibili_热词系列_镇站之宝":"emotion/bilibili/热词系列_镇站之宝.png","bilibili_热词系列_真香":"emotion/bilibili/热词系列_真香.png","bilibili_热词系列_有生之年":"emotion/bilibili/热词系列_有生之年.png","bilibili_热词系列_爷关更":"emotion/bilibili/热词系列_爷关更.png","bilibili_热词系列_秀":"emotion/bilibili/热词系列_秀.png","bilibili_热词系列_下次一定":"emotion/bilibili/热词系列_下次一定.png","bilibili_热词系列_我太南了":"emotion/bilibili/热词系列_我太南了.png","bilibili_热词系列_我酸了":"emotion/bilibili/热词系列_我酸了.png","bilibili_热词系列_我全都要":"emotion/bilibili/热词系列_我全都要.png","bilibili_热词系列_完结撒花":"emotion/bilibili/热词系列_完结撒花.png","bilibili_热词系列_神仙UP":"emotion/bilibili/热词系列_神仙UP.png","bilibili_热词系列_三连":"emotion/bilibili/热词系列_三连.png","bilibili_热词系列_你币有了":"emotion/bilibili/热词系列_你币有了.png","bilibili_热词系列_妙啊":"emotion/bilibili/热词系列_妙啊.png","bilibili_热词系列_可以":"emotion/bilibili/热词系列_可以.png","bilibili_热词系列_高产":"emotion/bilibili/热词系列_高产.png","bilibili_热词系列_大师球":"emotion/bilibili/热词系列_大师球.png","bilibili_热词系列_打卡":"emotion/bilibili/热词系列_打卡.png","bilibili_热词系列_锤":"emotion/bilibili/热词系列_锤.png","bilibili_热词系列_吹爆":"emotion/bilibili/热词系列_吹爆.png","bilibili_热词系列_不愧是你":"emotion/bilibili/热词系列_不愧是你.png","bilibili_热词系列_奥力给":"emotion/bilibili/热词系列_奥力给.png","bilibili_热词系列_AWSL":"emotion/bilibili/热词系列_AWSL.png"}
                 
            });</script></body></html><!-- rebuild by neat -->